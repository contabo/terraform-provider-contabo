---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "contabo_instance Resource - terraform-provider-contabo-sdkv2"
subcategory: ""
description: |-
  The Compute Management API allows you to manage compute resources (e.g. creation, deletion, starting, stopping) as well as managing snapshots and custom images. It also supports cloud-init https://cloud-init.io/ at least on our default images (for custom images you will need to provide cloud-init support packages). The API offers providing cloud-init scripts via the user_data field. Custom images must be provided in .qcow2 or .iso format.
---

# contabo_instance (Resource)

The Compute Management API allows you to manage compute resources (e.g. creation, deletion, starting, stopping) as well as managing snapshots and custom images. It also supports [cloud-init](https://cloud-init.io/) at least on our default images (for custom images you will need to provide cloud-init support packages). The API offers providing cloud-init scripts via the user_data field. Custom images must be provided in .qcow2 or .iso format.

## Example Usage

```terraform
# Configure your Contabo API credentials
provider "contabo" {
  oauth2_client_id     = "[your client id]"
  oauth2_client_secret = "[your client secret]"
  oauth2_user          = "[your username]"
  oauth2_pass          = "[your password]"
}

# Create a new compute instance (vps/vds) in region EU, with specs of the V2 product. Also it has a contract period of 3 month
resource "contabo_instance" "database_instance" {
  display_name  = "database"
  product_id    = "V2"
  region        = "EU"
  period        = 3 
}

# Update custom image on instance
resource "contabo_instance" "database_instance" {
  image_id = contabo_image.custom_image_alpine.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `add_ons` (Block List) (see [below for nested schema](#nestedblock--add_ons))
- `cancel_date` (String) The date on which the instance will be cancelled.
- `default_user` (String) Default user name created for login during (re-)installation with administrative privileges. Allowed values for Linux/BSD are admin (use sudo to apply administrative privileges like root) or root. Allowed values for Windows are admin (has administrative privileges like administrator) or administrator.
- `display_name` (String) The instance name chosen by the customer that will be shown in the customer panel.
- `existing_instance_id` (String) The identifier of the existing compute instance. (override id)
- `image_id` (String) CAUTION: On updating this value your server will be reinstalled! Image Id is used to set up the compute instance. Ubuntu 20.04 is the default, currently you have to get the Id with our [API](https://api.contabo.com/#tag/Images/operation/retrieveImage) or via our [command line](https://github.com/contabo/cntb) tool with this command: `cntb get images`.
- `license` (String) Additional license in order to enhance your chosen product. It is mainly needed for software licenses on your product (not needed for windows). See our [api documentation](https://api.contabo.com/#tag/Instances/operation/createInstance) for all available licenses.
- `period` (Number) Initial contract period in months. Available periods are: 1, 3, 6 and 12 months. The default setting is 1 month.
- `product_id` (String) Choose the VPS/VDS product you want to buy. See our products [here](https://api.contabo.com/#tag/Instances/operation/createInstance).
- `region` (String) Instance Region where the compute instance should be located. Default region is the EU. Following regions are available: `EU`,`US-central`,`US-east`,`US-west`,`SIN`.
- `root_password` (Number) CAUTION: On updating this value your server will be reinstalled! Root password of the compute instance.
- `ssh_keys` (List of Number) CAUTION: On updating this value your server will be reinstalled! Array of `secretIds` of public SSH keys for logging into as defaultUser with administrator/root privileges. Applies to Linux/BSD systems. Please refer to Secrets Management API.
- `user_data` (String) CAUTION: On updating this value your server will be reinstalled! Cloud-Init Config in order to customize during start of compute instance.

### Read-Only

- `additional_ips` (List of Object) All other additional IP addresses of the instance. (see [below for nested schema](#nestedatt--additional_ips))
- `cpu_cores` (Number) CPU core count of the instance.
- `created_date` (String) The creation date of the compute instance.
- `disk_mb` (Number) Image disk size of the instance in megabyte.
- `error_message` (String) If the instance is in an error state (see status property), the error message can be seen in this field.
- `id` (String) The identifier of the compute instance. Use it to manage it!
- `ip_config` (List of Object) (see [below for nested schema](#nestedatt--ip_config))
- `last_updated` (String) Time of the last update of the compute instance.
- `mac_address` (String) Mac address of the instance.
- `name` (String) Name of the compute instance.
- `os_type` (String) Type of operating system (OS) installed on the instance.
- `product_type` (String) InsInstance's category depending on Product Id. Following product types are available: `hdd`,`ssd`,`vds`,`nvme`.
- `ram_mb` (Number) Image ram size in megabyte.
- `status` (String) Status of the compute instance. The status can be set to `provisioning`, `uninstalled`, `running`, `stopped`, `error`, `installing`, `unknown`, or `installed`.
- `v_host_id` (Number) Identifier of the host system.

<a id="nestedblock--add_ons"></a>
### Nested Schema for `add_ons`

Optional:

- `id` (String) Id of the Addon. Please refer to list [here](https://contabo.com/en/product-list/?show_ids=true).
- `quantity` (Number) The number of Addons you wish to aquire.


<a id="nestedatt--additional_ips"></a>
### Nested Schema for `additional_ips`

Read-Only:

- `v4` (List of Object) (see [below for nested schema](#nestedobjatt--additional_ips--v4))

<a id="nestedobjatt--additional_ips--v4"></a>
### Nested Schema for `additional_ips.v4`

Read-Only:

- `gateway` (String)
- `ip` (String)
- `netmask_cidr` (Number)



<a id="nestedatt--ip_config"></a>
### Nested Schema for `ip_config`

Read-Only:

- `v4` (List of Object) (see [below for nested schema](#nestedobjatt--ip_config--v4))
- `v6` (List of Object) (see [below for nested schema](#nestedobjatt--ip_config--v6))

<a id="nestedobjatt--ip_config--v4"></a>
### Nested Schema for `ip_config.v4`

Read-Only:

- `gateway` (String)
- `ip` (String)
- `netmask_cidr` (Number)


<a id="nestedobjatt--ip_config--v6"></a>
### Nested Schema for `ip_config.v6`

Read-Only:

- `gateway` (String)
- `ip` (String)
- `netmask_cidr` (Number)
